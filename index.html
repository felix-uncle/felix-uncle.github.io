<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="éƒ­ç­±èˆŸçš„åšå®¢">
<meta property="og:type" content="website">
<meta property="og:title" content="éƒ­ç­±èˆŸ&#39;Blog">
<meta property="og:url" content="http://felixguo.com/index.html">
<meta property="og:site_name" content="éƒ­ç­±èˆŸ&#39;Blog">
<meta property="og:description" content="éƒ­ç­±èˆŸçš„åšå®¢">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="éƒ­ç­±èˆŸ&#39;Blog">
<meta name="twitter:description" content="éƒ­ç­±èˆŸçš„åšå®¢">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://felixguo.com/">





  <title>éƒ­ç­±èˆŸ'Blog</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">éƒ­ç­±èˆŸ'Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ç‹è¯­å«£ä¹ƒæ­¦å­¦è¯å…¸ï¼Œéƒ½ä¸ä¼šæ‰“ | ç‹¬å­¤æ±‚è´¥åªæœ‰ä¹å‰‘ï¼Œä½†æ±‚ä¸€è´¥</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://felixguo.com/2018/11/25/ç”Ÿæ´»ç¯‡-åƒ/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Felix Guo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="éƒ­ç­±èˆŸ'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/25/ç”Ÿæ´»ç¯‡-åƒ/" itemprop="url">è®°å½•æ˜¨å¤©æ™šçš„ä¸€æ¡Œé¥­èœï¼ŒçœŸé¦™è­¦å‘Šï¼ï¼ï¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-25T07:49:28+08:00">
                2018-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="è®°å½•ç‚¹ç”Ÿæ´»ä¸Šçš„äº‹æƒ…">è®°å½•ç‚¹ç”Ÿæ´»ä¸Šçš„äº‹æƒ…ï¼š</span></h2><p>æ˜¨å¤©æ™šä¸Šå»ä¸€ä¸ªåŒäº‹å®¶ç©ï¼Œå…¶èˆå‹çš„æœ‹å‹å¨è‰ºå¯çœŸçš„äº†çš„ï¼Œå¾ˆæ˜¯ä½©æœï¼Œé¥­èœçœŸçš„ç¾å‘³å¯å£ï¼Œæˆ‘ä»¬éƒ½è°ƒä¾ƒä»–å¼€ä¸ªé¥­åº—å§ï¼Œå«ä»–å¤§å¨å®è‡³åå½’å•Šï¼Œå‘äº›ç…§ç‰‡è®°å½•ä¸€ä¸‹ï¼š</p>
<p></p><h5><span id="ç³–é†‹æ’éª¨é²ˆé±¼å°é¸¡ç‚–è˜‘è‡æ’éª¨æ±¤æ•´æ¡Œé¥­èœé¥­å¾ˆç¾å‘³æ„Ÿè°¢æ‹›å¾…åŒ—æ¼‚ä¸æ˜“ä¸”è¡Œä¸”çæƒœ">ç³–é†‹æ’éª¨<h5><br><img src="http://pib8sx71d.bkt.clouddn.com/%E7%B3%96%E9%86%8B%E6%8E%92%E9%AA%A8.jpeg" alt="æ’éª¨ "><p></p>
<p></p><h5>é²ˆé±¼<h5><br><img src="http://pib8sx71d.bkt.clouddn.com/%E6%B8%85%E8%92%B8%E9%B2%88%E9%B1%BC.jpeg" alt="æ’éª¨ "><p></p>
<p></p><h5>å°é¸¡ç‚–è˜‘è‡<h5><br><img src="http://pib8sx71d.bkt.clouddn.com/%E5%B0%8F%E9%B8%A1%E7%82%96%E8%98%91%E8%8F%87.jpeg" alt="æ’éª¨ "><p></p>
<p></p><h5>æ’éª¨æ±¤<h5><br><img src="http://pib8sx71d.bkt.clouddn.com/%E6%8E%92%E9%AA%A8%E6%B1%A4.jpeg" alt="æ’éª¨ "><p></p>
<p></p><h5>æ•´æ¡Œé¥­èœ<h5><br><img src="http://pib8sx71d.bkt.clouddn.com/%E5%85%A8%E5%9B%BE%E5%B1%95%E7%A4%BA%EF%BC%88%E9%A5%AD%EF%BC%89.jpeg" alt="æ’éª¨ "><p></p>
<p>é¥­å¾ˆç¾å‘³ï¼Œæ„Ÿè°¢æ‹›å¾…ï¼ŒåŒ—æ¼‚ä¸æ˜“ï¼Œä¸”è¡Œä¸”çæƒœğŸ™ğŸ™ğŸ™</p>
</h5></h5></h5></h5></h5></h5></h5></h5></h5></span></h5>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://felixguo.com/2018/11/18/Salesforce æ¶æ„ç¯‡æ€»ç»“ï¼ˆäºŒï¼‰ç†è§£ Service å±‚ä¸šåŠ¡éµå¾ªçš„è§„åˆ™/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Felix Guo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="éƒ­ç­±èˆŸ'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/18/Salesforce æ¶æ„ç¯‡æ€»ç»“ï¼ˆäºŒï¼‰ç†è§£ Service å±‚ä¸šåŠ¡éµå¾ªçš„è§„åˆ™/" itemprop="url">Salesforce æ¶æ„ç¯‡æ€»ç»“ï¼ˆäºŒï¼‰ç†è§£ Service å±‚ä¸šåŠ¡éµå¾ªçš„è§„åˆ™</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-18T20:15:13+08:00">
                2018-11-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="ä¸»è¦ç›®æ ‡">ä¸»è¦ç›®æ ‡</span></h2><blockquote>
<p>ç†è§£ Martin Fowler ä¸ºäº†åšä¼ä¸šçº§æ¶æ„è€Œåˆ†ç¦»å‡º Service å±‚çš„ç¼˜ç”±<br>ç†è§£ä¸ºä»€ä¹ˆ Apex ä»£ç è¦å±äº Service å±‚<br>åœ¨åº”ç”¨å’Œå¹³å°çš„å¼€å‘ä¸­å¦‚ä½•å¾ˆå¥½çš„å¥‘åˆ Service å±‚çš„ä»£ç <br>åœ¨ salesforce å¹³å°ä¸Šç”¨ä»£ç å»å®ç° Service çš„æ¶æ„</p>
</blockquote>
<h2><span id="ç®€å•æ¦‚è¿°">ç®€å•æ¦‚è¿°</span></h2><p>ä¸Šä¸€ç¯‡ Blog åªæ˜¯ç®€å•çš„ä»‹ç»äº† SOC æ€æƒ³ï¼Œå°†è½¯ä»¶çš„ç»“æ„æŠ½è±¡åˆ°å±‚çº§åº”ç”¨çš„é€»è¾‘æ–¹é¢ï¼Œæœ¬ç¯‡ Blog ä¸»è¦å°†ç›®æ ‡é›†ä¸­åœ¨å¦‚ä½•å»å®šä¹‰å’Œå®ç° Service å±‚ï¼Œå®ƒä¹Ÿæ˜¯åˆ«çš„å±‚çº§æˆ–è€… API è°ƒç”¨çš„å…³é”®æ­¥éª¤ã€‚</p>
<p><em>å±‚çº§æ¶æ„ä¹‹é—´çš„å…³ç³»å›¾ï¼š</em></p>
<p><img src="https://martinfowler.com/eaaCatalog/ServiceLayerSketch.gif" alt="ServiceLayerSketch up-w250"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Defines an application&apos;s boundary with a layer of services that establishes a set </span><br><span class="line">of available operations and coordinates the application&apos;s response in each </span><br><span class="line">operation.--- Fowler / Randy Stafford, EAA Patterns</span><br></pre></td></tr></table></figure>
<p>Service å±‚å¯¹å®ç°çš„ä¸šåŠ¡å±‚ã€è¿ç®—å±‚å’Œä¸€äº›æ‰§è¡Œä¸šåŠ¡çš„é€»è¾‘ Process æœ‰ä¸€ä¸ªæ¸…æ™°å’Œä¸¥æ ¼çš„å°è£…ï¼ŒåŒæ—¶ service å±‚å¿…é¡»ä¿è¯è¶³å¤Ÿçš„åŠŸèƒ½ä¸“ä¸€å’ŒæŠ½è±¡ï¼Œå®ƒèƒ½å¤Ÿé€‚åº”åæœŸåŠŸèƒ½çš„å¤šæ¬¡è¿­ä»£å’Œçµæ´»çš„å¯æ‰©å±•æ€§ã€‚ä¸‹é¢çš„å†…å®¹æ˜¯å¦‚ä½•ä½¿ç”¨ Apex ä»£ç æ¥å®ç° Service å±‚çš„ä¸šåŠ¡é€»è¾‘ï¼ŒåŒæ—¶è¯´æ˜å¦‚ä½•åœ¨ Force.com èµ„æºæœ‰é™çš„æƒ…å†µçš„ä¸‹åˆç†çš„åˆ©ç”¨èµ„æºå»å®ç°å®ƒã€‚</p>
<h2><span id="ä½¿ç”¨-service-å±‚çš„å¯¹è±¡">ä½¿ç”¨ Service å±‚çš„å¯¹è±¡</span></h2><p>å®¢æˆ·ç«¯ï¼ˆclientï¼‰æ‰§è¡Œ Service å±‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚åƒ UI controller æˆ–è€… Batch Apex ç­‰ã€‚</p>
<p><em>å€¼å¾—è€ƒè™‘ä½¿ç”¨ Service å±‚çš„ä¸€äº›æ–¹å‘ï¼š</em></p>
<p><img src="https://res.cloudinary.com/hy4kyit2a/f_auto,fl_lossy,q_70/learn/modules/apex_patterns_sl/apex_patterns_sl_learn_sl_principles/images/438126cb453f78930e14b39c326953d4_image_2.png" alt="Service å±‚çš„"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ³¨æ„ï¼š</span><br><span class="line"></span><br><span class="line">ä¸Šå›¾ä¸­æ²¡æœ‰æåˆ° Apex Triggerï¼Œå› ä¸º Trigger çš„é€»è¾‘å±äº Domain layerï¼Œå®ƒå’Œ Object è”ç³»éå¸¸</span><br><span class="line">ç´§å¯†ï¼Œåœ¨ Domain å±‚çš„ä¸šåŠ¡é€»è¾‘é€šè¿‡ platform UI æˆ–è€… APIs æˆ–å¤šæˆ–å°‘çš„ä¼šå’Œ Service å±‚è”ç³»åˆ°ä¸€</span><br><span class="line">èµ·</span><br></pre></td></tr></table></figure>
<h2><span id="å¯¹-salesforce-å¹³å°çš„åˆ›æ–°å’Œé€‚åº”æ€§çš„æ€è€ƒ">å¯¹ Salesforce å¹³å°çš„åˆ›æ–°å’Œé€‚åº”æ€§çš„æ€è€ƒ</span></h2><p>æƒ³è±¡ä¸€ä¸‹æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œå½“å†™äº†ä¸€æ®µ feature ä»£ç ï¼Œéœ€æ±‚åªè¦ä¸€å˜å°±å¾—é‡æ–°å¯¹ä»£ç è¿›è¡Œé‡æ„ï¼Œæˆ–è€…æ›´ç³Ÿç³•çš„æ˜¯ç”±äºå®³æ€•ä¹‹å‰å†™çš„é€»è¾‘è¢«ç ´åï¼Œç´¢æ€§ä¸æ•¢åŠ¨ä¹‹å‰çš„é€»è¾‘ï¼Œç„¶åå‡ºç°äº†å¤§é‡çš„é‡å¤çš„ä»£ç ï¼ŒçœŸæ˜¯å¾ˆç³Ÿç³•çš„ä½“éªŒã€‚</p>
<h2><span id="è®¾è®¡ä¸Šçš„ä¸€äº›è€ƒç©¶">è®¾è®¡ä¸Šçš„ä¸€äº›è€ƒç©¶</span></h2><ul>
<li><p>å‘½åè§„èŒƒï¼šService å±‚åº”è¯¥è¶³å¤ŸæŠ½è±¡è€Œä¸”å…¶æ„ä¹‰ï¼ŒåŒæ—¶åº”è¯¥å¾ˆå¹¿æ³›æ¥æ¶µç›–å®¢æˆ·ç«¯çš„å¾ˆå¤šæƒ…å†µï¼Œè¿™äº›æ–¹é¢å¯ä»¥è¡¨ç°åœ¨å¯¹ç±»ã€æ–¹æ³•ã€å‚æ•°åçš„å‘½åè§„èŒƒä¸Šï¼Œä»€ä¹ˆæ—¶å€™ç”¨åŠ¨è¯ï¼ˆverbsï¼‰ï¼Œä»€ä¹ˆæ—¶å€™ç”¨åè¯ï¼ˆnounsï¼‰éƒ½è¦æœ‰æ‰€æ€è€ƒï¼›ç¡®ä¿åå­—æ‰€è¡¨è¾¾çš„æ˜¯ç§ä¸€èˆ¬æƒ…å†µè€Œéç‰¹æ®Šæƒ…å†µï¼Œä¸¾ä¸ªä¾‹å­ï¼Œè¿™ä¸ªæ–¹æ³•åæ˜¯ä»¥ä¸šåŠ¡æ“ä½œæ¥å‘½åçš„ <font color="#2E86C1">InvoiceService.calculateTax(â€¦)</font> ï¼Œè€Œç¬¬äºŒä¸ªæ–¹æ³•åæ˜¯ä»¥ç‰¹å®šçš„ä¸šåŠ¡æ“ä½œæ¥å‘½åçš„ <font color="#2E86C1">InvoiceService.handleTaxCodeForACME(â€¦)</font> åº”è¯¥é¿åƒç¬¬äºŒç§è¿™æ ·çš„çš„å‘½åæ–¹å¼</p>
</li>
<li><p>å¹³å° / åè°ƒä¸€è‡´ï¼šè®¾è®¡ä¸€ä¸ªç­¾åçš„ç®—æ³•å’Œ Salesforce å¹³å°è¿›è¡Œäº¤äº’æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µï¼Œå°¤å…¶è¦ä½¿ç”¨ <a href="https://developer.salesforce.com/page/Best_Practice%3A_Bulkify_Your_Code" target="_blank" rel="noopener">Bulkificaiton</a> çš„æ—¶å€™ï¼Œä¸€ä¸ªä¸»è¦éœ€è¦è€ƒè™‘çš„å› ç´ æ˜¯ï¼Œåœ¨æ‰€æœ‰è¿è¡Œåœ¨ Force.com ä¸Šçš„ä»£ç éƒ½æ˜¯ Bulkificaitonï¼Œè¦è€ƒè™‘è°ƒç”¨æœåŠ¡å™¨ç«¯çš„ä»£ç å‚æ•°æ•°ç»„åŒ–ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„å‚æ•°é›†ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œè¿™ä¸ªæ–¹æ³•å°±å¯ä»¥ä½¿ç”¨ Bulkificaiton =&gt; <font color="#2E86C1">InvoiceService.calculateTax(List<taxcalulation> taxCalulations)</taxcalulation></font>ï¼Œè€Œè¿™ä¸ªæ–¹æ³• =&gt; <font color="#2E86C1">InvoiceService.calculateTax(Invoice invoice, TaxInfo taxCodeInfo)</font>ï¼Œç”±äºå‚æ•°æ˜¯å•ä¸€å‚æ•°é›†ï¼Œä¹Ÿåº”è¯¥å°½é‡å»é¿å…</p>
</li>
<li>SOC æ–¹é¢çš„è€ƒç©¶ï¼šåœ¨åº”ç”¨å½“ä¸­ Service å±‚çš„ä»£ç åˆ©ç”¨å¾ˆå¤š Objects å°è£…ä¸€äº›ä»»åŠ¡æˆ–è€… Process ä¸šåŠ¡é€»è¾‘ï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„æ˜¯ï¼Œæœ‰äº›ä»£ç å…³è”ç€ç‰¹å®šçš„  <a href="https://help.salesforce.com/articleView?id=fields_about_field_validation.htm&amp;type=5" target="_blank" rel="noopener">validation</a>ã€<a href="https://help.salesforce.com/articleView?id=adding_fields.htm&amp;type=5" target="_blank" rel="noopener">field values</a> æˆ–è€… <a href="https://help.salesforce.com/articleView?id=customize_formuladef.htm&amp;type=5" target="_blank" rel="noopener">calculations</a>ï¼Œé€šè¿‡æ’å…¥ã€æ›´æ–°ã€åˆ é™¤è§¦å‘Trigger æ¥å½±å“å…¶ç›¸å¯¹åº” Objectï¼Œ è¿™äº›ä»£ç ä¸€èˆ¬å­˜æ”¾åœ¨ Trigger å½“ä¸­ï¼Œå¹¶ä¸”å¯ä»¥ä¿ç•™åœ¨é‚£é‡Œ</li>
<li><p>å®‰å…¨æ€§ï¼šService å±‚çš„ä»£ç å’Œé‚£äº›è¢«è°ƒç”¨çš„ä»£ç åº”è¯¥ç¡®ä¿ç”¨æˆ·å®‰å…¨ï¼Œè¦ç¡®ä¿è¿™ä¸€ç‚¹ä½¿ç”¨ <font color="#2E86C1">with sharing</font>ï¼ˆwith Security Settings enforcedï¼‰ä¿®é¥°ç¬¦ï¼Œå°¤å…¶éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœä½¿ç”¨ <font color="#2E86C1">global</font> ä¿®é¥°ç¬¦æš´éœ²äº†å¤ªå¤šå…³é”®ä»£ç ï¼Œå°±éœ€è¦å¼•èµ·æ³¨æ„ã€‚å¦‚æœä¸€ä¸ª Apex ç±»çš„é€»è¾‘å¿…é¡»é€šè¿‡ä¸€äº› Recodes è®©å¤–éƒ¨çš„ç”¨æˆ·å¯è§ï¼Œé‚£ä¹ˆä»£ç å¿…é¡»æç‚¼å®ƒçš„æ‰§è¡Œç¯å¢ƒï¼Œè¶Šç®€ç•¥è¶Šå¥½ï¼Œä¸€ä¸ªå¥½çš„åŠæ³•æ˜¯ä½¿ç”¨ç§æœ‰çš„ Apex å†…éƒ¨ç±»ï¼Œä½¿ç”¨  <font color="#2E86C1">without sharing<br></font> å…³é”®å­—</p>
</li>
<li><p>ç¼–ç»„ï¼šç®€è¨€ä¹‹ï¼Œé¿å…æŒ‡å®šå¦‚ä½•å¤„ç†ä¸ Service å±‚äº¤äº’çš„æ–¹é¢é”™è¯¯ä¿¡æ¯ï¼Œå› ä¸ºæŸäº›æ–¹é¢æœ€å¥½ç•™ç»™æœåŠ¡çš„è°ƒç”¨è€…ï¼Œåªç®¡åŸæ ·æŠ›å‡ºå¼‚å¸¸å°±å¥½ï¼ˆit is typically best to leverage the default error-handling semantics of Apex by throwing exceptions. ï¼‰</p>
</li>
<li>æ•´åˆæœåŠ¡ï¼šè™½ç„¶å®¢æˆ·ç«¯å¯ä»¥ä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ‰§è¡Œå¤šæ¬¡ calloutï¼Œä½†è¿™ä¹ˆåšä¼šå¾ˆä½æ•ˆï¼Œä¹Ÿä¼šé€ æˆä¸€äº›æ•°æ®åº“äº‹åŠ¡æ–¹é¢çš„é—®é¢˜ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯å»ºä¸€ä¸ªæ•´åˆæœåŠ¡ï¼ˆ compound servicesï¼‰ï¼ˆcompound servicesï¼‰ï¼Œè®©ä¸€æ¬¡ callout æ¶µç›–å¤šä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚åŒæ ·å¾ˆé‡è¦çš„æ˜¯å°½å¯èƒ½ä¼˜åŒ– Service å±‚çš„ SOQL å’Œ DML æ“ä½œã€‚å½“ç„¶äº†è¿™å¹¶ä¸æ„å‘³ç€ä¸èƒ½ callout æ›´ç»†èŠ‚çš„é€»è¾‘å•å…ƒ;å¦‚æœéœ€è¦çš„è¯ï¼Œå¯ä»¥å¼€å‘ç‰¹å®šçš„å•å…ƒå»ä»¥ä¾›å®¢æˆ·ç«¯ callout</li>
<li>äº‹åŠ¡ç®¡ç†å’Œæ— çŠ¶æ€ï¼š Service å±‚çš„å®¢æˆ·ç«¯ç»å¸¸æœ‰ä¸€äº›æ‹¥æœ‰é•¿å­˜æ´»æ—¶é—´ä¸”ä¸åŒçš„ Process è¯·æ±‚å’Œä¸€äº›æ¶ˆæ¯ç”¨æ¥æ‰§è¡Œå’Œå¤„ç†ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªå•ä¸€çš„è¯·æ±‚å’Œå¤šä¸ªè¯·æ±‚åˆ†éš”æˆå•ç‹¬çš„ä½œç”¨èŒƒå›´åˆ°æœåŠ¡å™¨ç«¯ï¼šç®¡ç†çŠ¶æ€ï¼ˆæ¯”å¦‚ Batch Apexï¼‰æˆ–è€…å¤æ‚çš„ UI éƒ½æ˜¯é€šè¿‡å®ƒä»¬è‡ªå·±çš„é¡µé¢çŠ¶æ€æ¥æ¥å—å¾ˆå¤šè¯·æ±‚çš„ï¼Œåœ¨çŠ¶æ€ç®¡ç†ä¸Šæœ€å¥½çš„æ–¹å¼æ˜¯åœ¨åšä¸€æ¬¡ callout åˆ° Service å±‚æ—¶ï¼Œå°è£…æ•°æ®åº“æ“ä½œå’ŒæœåŠ¡çŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œä½¿ Service ç«¯ä¿æŒæ— çŠ¶æ€ï¼Œä»¥ä½¿è°ƒç”¨çš„ç¯å¢ƒçµæ´»åœ°ä½¿ç”¨å®ƒä»¬è‡ªå·±çš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªåœ¨æ•°æ®åº“äº‹åŠ¡çš„ä½œç”¨åŸŸåŒæ ·åº”è¯¥è¢«åŒ…æ‹¬åœ¨æ¯ä¸€ä¸ª Service å±‚çš„æ–¹æ³•å½“ä¸­ï¼Œä»¥ä¾¿äºè°ƒç”¨è€…ä¸ç”¨å»è€ƒè™‘å’Œå…¶ç›¸å…³çš„ SavePoints</li>
<li>é…ç½®ï¼šåœ¨ Service å±‚ä¸­ï¼Œå¯èƒ½æœ‰å¸¸è§çš„é…ç½®æˆ–è¡Œä¸ºè¢«è¦†ç›–ï¼Œåˆç†ä½¿ç”¨æ–¹æ³•é‡è½½ï¼Œæ¥å—ä¸€ä¸ªå…±äº«çš„é€‰é¡¹å‚æ•°ï¼Œç±»ä¼¼äº Apex ä¸­çš„ DML æ–¹æ³•</li>
</ul>
<!---->
<h1><span id="service-å±‚åœ¨-apex-ä¸­çš„åº”ç”¨">Service å±‚åœ¨ Apex ä¸­çš„åº”ç”¨</span></h1><p>æƒ…æ™¯ä»‹ç»ï¼šå‡è®¾åœ¨ Opportunity é¡µé¢æœ‰ä¸ªè‡ªå®šä¹‰ Button å½“ç‚¹å‡» Button ä¼šå‡ºç°ä¸€ä¸ª Visualforce é¡µé¢ï¼Œæç¤ºç”¨æˆ·å¯¹ Opportunity Amount(æˆ–ç›¸å…³è”çš„ Opportunity Line)é¡¹ç›®åº”ç”¨ä¸€ä¸ªæŠ˜æ‰£ç™¾åˆ†æ¯”ã€‚<br>å®ä¾‹å±•ç¤ºå¦‚ä½•å°† <font color="#2E86C1">OpportunitiesService.applyDiscounts</font> æ–¹æ³•åº”ç”¨åˆ°æ¯”å¦‚ Visualforceã€Batch Apexã€ æˆ–è€… JavaScript Remoting è¿™äº›åœ°æ–¹ä¸Šã€‚</p>
<p>ä¸‹é¢çš„ Code å¤„ç†çš„æ˜¯é€šè¿‡ StandardController é€‰æ‹©çš„å•ä¸ª Opportunityï¼Œæ³¨æ„ï¼šcontroller çš„é”™è¯¯ä¿¡æ¯æ˜¯ controller è‡ªå·±æ¥å¤„ç†çš„ï¼Œè€Œé serviceï¼Œå› ä¸º visualforce æœ‰å…¶è‡ªèº«çš„é”™è¯¯è¡¨ç°å½¢å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public PageReference applyDiscount() </span><br><span class="line">&#123;</span><br><span class="line">    try </span><br><span class="line">    &#123;</span><br><span class="line">        // Apply discount entered to the current</span><br><span class="line">        Opportunity  OpportunitiesService.applyDiscounts(new Set&lt;ID&gt;&#123; standardController.getId() &#125;, DiscountPercentage);</span><br><span class="line">    &#125; </span><br><span class="line">    catch (Exception e) </span><br><span class="line">    &#123;</span><br><span class="line">        ApexPages.addMessages(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return ApexPages.hasMessages() ? null : standardController.view();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢çš„ Code å±•ç¤ºäº†é€šè¿‡ StandardSetController å¤„ç†å¤šä¸ª Opportunities</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public PageReference applyDiscounts() </span><br><span class="line">&#123;</span><br><span class="line">    try </span><br><span class="line">    &#123;</span><br><span class="line">        // Apply discount entered to the selected Opportunities</span><br><span class="line">        OpportunitiesService.applyDiscounts(</span><br><span class="line">           // Tip: Creating a Map from an SObject list gives easy access to the Ids (keys)</span><br><span class="line">           new Map&lt;Id,SObject&gt;(standardSetController.getSelected()).keyValues(),</span><br><span class="line">           DiscountPercentage</span><br><span class="line">        );</span><br><span class="line">    &#125; </span><br><span class="line">    catch (Exception e) </span><br><span class="line">    &#123;</span><br><span class="line">        ApexPages.addMessages(e);</span><br><span class="line">    &#125;  </span><br><span class="line">        </span><br><span class="line">    return ApexPages.hasMessages() ? null : standardController.view();               </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢çš„ Code å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨  Batch Apex å¤„ç†å¤§é‡çš„æ•°æ®ï¼Œæ³¨æ„å’Œä¹‹å‰ä»£ç çš„åŒºåˆ«</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">public with sharing class OpportunityApplyDiscountJob implements Database.Batchable&lt;SObject&gt; </span><br><span class="line">&#123;</span><br><span class="line">    public Decimal DiscountPercentage &#123; get; private set; &#125;</span><br><span class="line"></span><br><span class="line">    public OpportunityApplyDiscountJob(Decimal discountPercentage) </span><br><span class="line">    &#123;</span><br><span class="line">        // Discount to apply in this job        </span><br><span class="line">        this.DiscountPercentage = discountPercentage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Database.QueryLocator start(Database.BatchableContext ctx) </span><br><span class="line">    &#123;</span><br><span class="line">        // Opportunities to discount</span><br><span class="line">        return Database.getQueryLocator(&apos;select Id from Opportunity where StageName = \&apos;Negotiation/Review\&apos;&apos;);  </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void execute(Database.BatchableContext BC, List&lt;sObject&gt; scope) </span><br><span class="line">    &#123;        </span><br><span class="line">        try </span><br><span class="line">        &#123;</span><br><span class="line">          // Call the service           </span><br><span class="line">          OpportunitiesService.applyDiscounts(</span><br><span class="line">            new Map&lt;Id,SObject&gt;(scope).keySet(),DiscountPercentage);</span><br><span class="line">        &#125; </span><br><span class="line">        catch (Exception e) </span><br><span class="line">        &#123;</span><br><span class="line">            // Email error, log error, chatter error etc..</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void finish(Database.BatchableContext ctx) &#123; &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢çš„ Code å°† service å±‚æ‰“åŒ…èµ·æ¥ï¼Œå¹¶ä¸”é€šè¿‡ JavaScript Remoting æš´éœ²ç»™å®¢æˆ·ç«¯ï¼Œä¾›å…¶è°ƒç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class OpportunityController </span><br><span class="line">&#123;</span><br><span class="line">    @RemoteAction</span><br><span class="line">    public static void applyDiscount(Id opportunityId, Decimal discountPercent)</span><br><span class="line">    &#123;</span><br><span class="line">        // Call service</span><br><span class="line">        OpportunitiesService.applyDiscounts(new Set&lt;ID&gt; &#123; opportunityId &#125;, discountPercent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>åœ¨ Service å±‚æä¸æ–­æŠ•å…¥å¯¹æ›´å¤§çš„é‡ç”¨æ€§å’Œé€‚åº”æ€§çš„éƒ½å¸¦æ¥å¾ˆå¤§çš„å¥½å¤„ï¼ŒåŒæ—¶ä¹Ÿä¸ºåº”ç”¨ç¨‹åºå®ç° API æä¾›äº†ä¸€ç§æ›´å¹²å‡€ã€æ›´ç»æµçš„æ–¹å¼ä¹‹ä¸€ã€‚<br>åŸæ–‡ï¼šInvesting in a service layer for your application offers the engineering benefits of greater reuse and adaptability, as well as provides a cleaner and more cost effective way of implementing an API for your application, a must in todayâ€™s cloud-integrated world. By closely observing the encapsulation and design considerations described above, you start to form a durable core for your application that will endure and remain a solid investment throughout the ever-changing and innovative times ahead!</p>
<h1><span id="ç›¸å…³èµ„æ–™">ç›¸å…³èµ„æ–™</span></h1><p><a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank" rel="noopener">Separation of concerns</a><br><a href="https://martinfowler.com/eaaCatalog/serviceLayer.html" target="_blank" rel="noopener">Martin Fowlerâ€™s Service Layer Pattern</a><br><a href="https://martinfowler.com/eaaCatalog/" target="_blank" rel="noopener">Martin Fowlerâ€™s Enterprise Architecture Patterns</a><br><a href="https://trailhead.salesforce.com/content/learn/modules/apex_patterns_sl/apex_patterns_sl_learn_sl_principles" target="_blank" rel="noopener">Learn Service Layer Principles</a></p>
<h1><span id="çŸ¥è¯†æ‰©å±•">çŸ¥è¯†æ‰©å±•</span></h1><p><a href="https://salesforce.stackexchange.com/questions/16121/sfdc-understanding-with-sharing-without-sharing-unspecified-sharing-classes" target="_blank" rel="noopener">With Sharingã€Without Sharing å’Œ non-sharing-specified ä¿®é¥°ç¬¦çš„åŒºåˆ«</a> </p>
<h2><span id="å…¶ä»–">å…¶ä»–</span></h2><p><a href="https://trailhead.salesforce.com/en/me/felixguo" target="_blank" rel="noopener">æˆ‘æ˜¯åœ¨è¿™é‡Œå­¦åˆ°çš„salesforceçŸ¥è¯†</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://felixguo.com/2018/11/17/Salesforce æ€»ç»“ï¼ˆä¸€ï¼‰SOC/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Felix Guo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="éƒ­ç­±èˆŸ'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/17/Salesforce æ€»ç»“ï¼ˆä¸€ï¼‰SOC/" itemprop="url">Salesforce æ¶æ„ç¯‡æ€»ç»“ï¼ˆä¸€ï¼‰ç†è§£ SOC</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-17T23:36:42+08:00">
                2018-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="ä¸»è¦ç›®æ ‡">ä¸»è¦ç›®æ ‡</span></h2><blockquote>
<p>è§£é‡Š SOC ç”¨äºå•†ä¸šçš„ä»·å€¼<br>åœ¨ä½¿ç”¨ä¸€äº›éœ€æ±‚æˆ–è€…å¹³å°æŠ€æœ¯ä¸­ä½¿ç”¨ SOC æ¥é€‚ç”¨ä¸€äº›è§£å†³æ–¹æ¡ˆ<br>å°† SOC åº”ç”¨åˆ° Force.com ä¸­<br>ä»€ä¹ˆæ—¶å€™å†³å®šä½¿ç”¨ SOC æŠ€æœ¯</p>
</blockquote>
<hr>
<p>ä½œä¸ºä¸€ä½å…¬å¸äº§å“çš„åç«¯ç¨‹çŒ¿ï¼Œä¸èƒ½ä»…ä»…åœç•™åœ¨ä¸ºå®¢æˆ·è§£å†³ä¸€äº›ä¸šåŠ¡å±‚é¢çš„é—®é¢˜ï¼Œæ›´ä¸ºé‡è¦çš„æ˜¯å½“äº§å“è¿­ä»£åˆ°ä¸€å®šç¨‹åº¦ï¼Œä¼´éšè€Œæ¥çš„æ˜¯éš¾åº¦çš„åŠ å¤§ä»¥åŠä¸šåŠ¡å¤æ‚åº¦çš„åŠ æ·±ï¼Œæ›´éœ€è¦åœ¨å¼€å‘ä¸­èå…¥ä¸€äº›é‡è¦çš„ç¼–ç¨‹æ ¸å¿ƒçš„æƒ³ï¼Œæ–¹ä¾¿åŠæ—¶å‘ç°äº§å“ä¸­çš„ bug ä»¥åŠæ€è€ƒå¯¹äº§å“åæœŸå¯æ‰©å±•æ€§æ–¹é¢çš„é—®é¢˜ã€‚</p>
<hr>
<h2><span id="å¯¹äºsocseparation-of-concerns-çš„ç†è§£">å¯¹äºSOC(Separation of Concerns) çš„ç†è§£</span></h2><p>å¹¿ä¹‰ä¸Šæ¥è¯´SOCæ˜¯ä¸€ç§åˆ†å±‚æ€æƒ³çš„ä½“ç°ï¼Œåœ¨å¤§å¤šæ•°OOPè¯­è¨€ä¸­éƒ½æœ‰æ¶‰åŠï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œä½†éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œä»£ç çš„åŠŸèƒ½æ¨¡å—æ˜¯å¯ä»¥ä¸æ–­å¤ç”¨çš„ï¼Œæˆ‘ä»¬ä¸æå€¡ copy &amp; pasteï¼Œä½†è¦æ—¶åˆ»æƒ³ç€å¤ç”¨ï¼Œå¹¶ä¸”ç±»çš„å‘½åè§„èŒƒï¼ˆclass naming conventionsï¼‰ï¼Œå˜é‡åçš„å‘½åè§„èŒƒï¼ˆvariable naming conventionsï¼‰éƒ½æœ‰åŠ©äºä»£ç å¯è¯»æ€§çš„æå‡ï¼Œå¥½çš„ä»£ç å¦‚åŒè®²ä¸€æ®µä¼˜ç¾çš„æ•…äº‹ï¼ŒThat is Good code should tell a story. </p>
<h2><span id="soc-çš„ä¸€äº›å¥½å¤„">SOC çš„ä¸€äº›å¥½å¤„</span></h2><p> </p><h6><span id="é¡ºåº”æŠ€æœ¯é©å‘½çš„æ½®æµevolution">é¡ºåº”æŠ€æœ¯é©å‘½çš„æ½®æµï¼ˆEvolutionï¼‰</span></h6> æŠ€æœ¯ä¸æ–­åœ¨è¿›æ­¥çš„è¿›æ­¥çš„åŒæ—¶ä¿è¯ä»£ç å±‚çº§ä¹‹é—´æ˜¯å¯ä»¥æ‰©å±•ï¼Œä¿®æ”¹ï¼Œç”šè‡³è¦åšåˆ°å¯ä»¥ä½¿å±‚çº§ä¹‹é—´æ‹†å¸è‡ªå¦‚ï¼Œå›æƒ³å‰ç«¯æ¡†æ¶æ•°åå¹´å‘å±•çš„å¤ªå¿«äº†ï¼Œå„ç§å…¨å®¶æ¡¶å±‚å‡ºä¸ç©·ï¼Œå­¦ä¹Ÿå­¦ä¸å®Œï¼ŒåŒæ—¶ä¹Ÿå¯¹è½¯ä»¶æ‰©å±•æ€§æå‡ºäº†å¾ˆé«˜çš„è¦æ±‚<br> <h6><span id="å¯¹å½±å“çš„ç®¡æ§impact-management">å¯¹å½±å“çš„ç®¡æ§ï¼ˆImpact managementï¼‰</span></h6>å½“ä¿®æ”¹æˆ–è€…æ‹†å¸æ‰ä¸€äº›å±‚çº§ç»„ä»¶çš„æ—¶å€™ï¼Œåº”å°½é‡é¿å…å½±å“åˆ°å…¶ä»–å±‚çº§çš„åŠŸèƒ½ï¼Œé™¤éæ˜¯å‡ºäºè®¾è®¡çš„è€ƒç©¶è€Œå»æœ‰æ„å»ä¿®æ”¹çš„<br>  <h6><span id="è§’è‰²åŠå…¶èŒèƒ½roles-and-responsibility">è§’è‰²åŠå…¶èŒèƒ½ï¼ˆRoles and responsibilityï¼‰</span></h6>æ¯ä¸€ä¸ªå±‚çº§éƒ½ç”¨å…¶èŒèƒ½ï¼Œä¸è¦ä½äºæˆ–è€…é«˜äºå…¶èŒèƒ½ï¼Œæ¯”å¦‚ä¸¢å¼ƒæ‰ä¸€ä¸ªå®¢æˆ·ç«¯çš„åº”ç”¨æˆ–è€…ç±»åº“ï¼Œä¸æ˜¯æ„å‘³ç€ä¸¢å»æ‰å…¶ä¸šåŠ¡å±‚çš„é€»è¾‘ï¼Œå› ä¸ºä¸šåŠ¡å±‚æ˜¯å¦ä¸€ä¸ªå±‚çº§çš„èŒè´£ã€‚<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">salesforce  å±‚çº§åˆ†ç±»å¦‚ä¸‹ï¼š</span><br><span class="line">  </span><br><span class="line"> * ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBusiness Logic Layerï¼‰</span><br><span class="line">    éç¼–ç (Declarative): Formula, Validation, Workflow, Process Builder, Sharing Rules</span><br><span class="line">    éç (Coding): Apex Services, Apex Custom Actions</span><br><span class="line"> </span><br><span class="line"> * æ•°æ®å¤„ç†å±‚ ï¼ˆData Access layerï¼‰</span><br><span class="line">    éç¼–ç (Declarative): Data Loaders</span><br><span class="line">    ç¼–ç (Coding): SOQL, SOSL, Salesforce APIs</span><br><span class="line">    </span><br><span class="line"> * æ•°æ®åº“å±‚ ï¼ˆDatabase Layerï¼‰</span><br><span class="line">    éç¼–ç (Declarative): Custom Objects, Fields, Relationships, Rollups</span><br><span class="line">    ç¼–ç (Coding): Apex Triggers</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2><span id="åœ¨-forcecom-ä¸­ä½¿ç”¨-soc">åœ¨ Force.com ä¸­ä½¿ç”¨ SOC</span></h2><ul>
<li><p>åœ¨ App ä¸­æ›¿ä»£æˆ–è€…æ·»åŠ å¦ä¸€ç§ UIï¼ˆReplacing or adding another UI to your appï¼‰ï¼Œéœ€è¦è€ƒè™‘çš„æ˜¯æœ‰å¤šå°‘ä»£ç éœ€è¦å»é‡å†™ï¼Œæˆ–è€…æœ‰äº› UI çš„ç«¯å£è™½ç„¶ä»€ä¹ˆéƒ½æ²¡åšï¼Œä½†æ˜¯å½±å“åˆ°äº† App çš„ æ’å…¥ï¼ˆinsertingï¼‰ï¼Œæ›´æ–°ï¼ˆupdatingï¼‰ï¼ŒéªŒè¯ï¼ˆvalidatingï¼‰æˆ–è€…è®¡ç®—å¤„ç†ï¼ˆcalculatingï¼‰çš„ä¸€äº›åŠŸèƒ½ã€‚</p>
</li>
<li><p>æä¾›å…¬ç”¨ APIï¼ˆProviding a public-facing APIï¼‰è¯„ä¼°ä¸€ä¸‹æ‰€å®ç°çš„ API ä½¿ç”¨å·²æœ‰ä»£ç åº“çš„å“ªä¸€éƒ¨åˆ†ï¼Œä¸è¦å°†ä¸€äº›åŠ¨ä½œè¡Œä¸ºçš„æ–¹æ³•ä½œä¸º API åŸºç¡€çš„è°ƒç”¨</p>
</li>
<li><p>é€šè¿‡ Batch ç±»æ¥æå‡åº”ç”¨å±‚é€»è¾‘ï¼ˆScaling your application logic via Batch Apexï¼‰ä½¿ç”¨ Batch æ¥å¢å¤§æ•°æ®ååé‡ï¼Œä½¿å¤šä¸ªç”¨æˆ·åœ¨ç™»å½•ç›¸åŒçš„ UI é¡µé¢çš„æ—¶å€™æœ‰ç›¸ä¸€è‡´çš„ç»“æœ</p>
</li>
<li>åœ¨ Visualforce é¡µé¢æˆ–è€… Lightning Component controllers ä¸­æ‰§è¡Œå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼ˆWorking with complex action methods in your Visualforce or Lightning Component controllersï¼‰è¨€ç®€æ„èµ…ï¼Œä½¿ç”¨ MVC æ¶æ„ï¼Œå¾ˆè€ç”Ÿå¸¸è°ˆçš„ä¸œè¥¿ï¼Œåœ¨éšåçš„ç« èŠ‚ä¼šé™†ç»­ä»‹ç»</li>
<li>è®©ä¸€ä¸ªæ–°çš„å¼€å‘äººå‘˜èƒ½å¿«é€Ÿä¸Šæ‰‹é¡¹ç›®çš„æ¶æ„ï¼ˆMaking it easy for new developers to find their way around your code baseï¼‰ä¸€ä¸ªæ–°çš„å¼€å‘äººå‘˜èŠ±åœ¨ç†Ÿæ‚‰ä»£ç ç»„ç»‡æ¶æ„çš„æ—¶é—´ä¹Ÿæ˜¯è¡¡é‡ä¸€ä¸ªé¡¹ç›®å¥½åçš„æ ‡å‡†ä¹‹ä¸€</li>
</ul>
<h2><span id="è¡¨æ ¼ç®€å•çš„åˆ†æé¡¹ç›®æ˜¯å¦éœ€è¦-soc">è¡¨æ ¼ç®€å•çš„åˆ†æé¡¹ç›®æ˜¯å¦éœ€è¦ SOC</span></h2><p><img src="http://pib8sx71d.bkt.clouddn.com/SOC%20Appropriate.png" alt="GitHub set up"></p>
<h2><span id="ç›¸å…³èµ„æ–™é“¾æ¥">ç›¸å…³èµ„æ–™é“¾æ¥</span></h2><p><a href="https://trailhead.salesforce.com/content/learn/modules/apex_patterns_sl/apex_patterns_sl_soc" target="_blank" rel="noopener">Understand Separation of Concerns</a></p>
<p><a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank" rel="noopener">åˆ†å±‚æ€æƒ³ï¼ˆç»´åŸºç™¾ç§‘ï¼‰</a></p>
<h2><span id="å…¶ä»–">å…¶ä»–</span></h2><p><a href="https://trailhead.salesforce.com/en/me/felixguo" target="_blank" rel="noopener">æˆ‘æ˜¯åœ¨è¿™é‡Œå­¦åˆ°çš„salesforceçŸ¥è¯†</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Felix Guo</p>
              <p class="site-description motion-element" itemprop="description">éƒ­ç­±èˆŸçš„åšå®¢</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Felix Guo</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>
